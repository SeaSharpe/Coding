@model IEnumerable<SeaSharpe_CVGS.Models.Order>

@{
    ViewBag.Title = "Order Management";
}

<head>
    <title>@ViewBag.Title</title>
    <link rel="stylesheet" href="~/Content/order.css" type="text/css">
</head>
<h1>@ViewBag.Title</h1>
<hr />
<div class="row">
    <div class="col-lg-12">
        <div class="col-md-6">
            @{
                Html.RenderAction("PartialOutstandingOrders");
            }
        </div>
        
            <!-- Nicole added -->
            @if (ViewData["order"] != null)
            {
                <div class="col-md-6 outsetBorder">
                    @{
                        Html.RenderAction("PartialSelectedOrder");
                    }
                </div>
            }
                

    </div>
</div>
<div class="row">
    <div class="col-lg-12">
        <h3><b>Completed Orders</b></h3>
        <table class="table">
            <tr>
                <th>
                    @Html.DisplayNameFor(model => model.Id)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.Member.Id)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.OrderPlacementDate)
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.ShipDate)
                </th>
                <th>
                    @Html.LabelFor(model => model.First().Aprover.User.FirstName, "Approver")
                </th>
                <th>
                    @Html.DisplayNameFor(model => model.OrderItems.Count)
                </th>
                <th></th>
            </tr>

            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.Id)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Member.Id)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.OrderPlacementDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.ShipDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Aprover.User.FirstName)
                        @Html.DisplayFor(modelItem => item.Aprover.User.LastName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.OrderItems.Count)
                    </td>
                    <td>
                        @Html.ActionLink("View", "OrderManagement", new { id = item.Id }, new { @class = "btn greenButton" })
                    </td>
                </tr>
            }

        </table>
    </div>
</div>